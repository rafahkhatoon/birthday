<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Vishruth</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Satisfy&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: #f0e6d3;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    font-family: 'Cormorant Garamond', serif;
  }

  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
    pointer-events: none; z-index: 0;
  }

  .stage {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    position: relative;
    width: 360px;
    height: 580px;
    z-index: 1;
  }

  /* ── HAPPY BIRTHDAY VISHRUTH ── */
  .hb-text {
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    opacity: 0;
    white-space: nowrap;
    animation: popIn 1s cubic-bezier(0.34, 1.56, 0.64, 1) 4.7s forwards;
  }
  .hb-text .line1 {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-size: 1.05rem;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: #9a7c5e;
    display: block;
  }
  .hb-text .line2 {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 0.95rem;
    letter-spacing: 0.22em;
    color: #7a6048;
    display: block;
    margin-top: 2px;
  }
  .hb-text .name {
    font-family: 'Satisfy', cursive;
    font-size: 2.8rem;
    color: #5c3d1e;
    display: block;
    letter-spacing: 0.04em;
    margin-top: 4px;
    text-shadow: 0 2px 12px rgba(92,61,30,0.16);
  }

  /* ── PLATE ── */
  .plate {
    position: absolute;
    bottom: 48px;
    width: 272px;
    height: 14px;
    background: linear-gradient(180deg, #e8dece 0%, #d4c8b2 100%);
    border-radius: 50%;
    box-shadow: 0 6px 22px rgba(100,72,40,0.2);
    opacity: 0;
    animation: fadeUpEl 0.5s ease 0.1s forwards;
  }

  /* ── CAKE LAYERS ── */
  .cake-layer {
    position: absolute;
    border-radius: 7px 7px 3px 3px;
    opacity: 0;
    transform: translateY(90px) scale(0.9);
  }

  .layer-1 {
    width: 228px; height: 72px; bottom: 58px;
    background: linear-gradient(165deg, #d4b896 0%, #c4a47e 45%, #b08c64 100%);
    box-shadow: 0 4px 0 rgba(90,60,30,0.09);
    animation: slideIn 0.72s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
  }
  .layer-2 {
    width: 188px; height: 62px; bottom: 128px;
    background: linear-gradient(165deg, #dcc4a4 0%, #ceae88 45%, #b8966c 100%);
    box-shadow: 0 4px 0 rgba(90,60,30,0.08);
    animation: slideIn 0.72s cubic-bezier(0.34, 1.56, 0.64, 1) 1.25s forwards;
  }
  .layer-3 {
    width: 146px; height: 54px; bottom: 188px;
    background: linear-gradient(165deg, #e8d8be 0%, #dac8a4 45%, #c4aa82 100%);
    box-shadow: 0 3px 0 rgba(90,60,30,0.06);
    animation: slideIn 0.72s cubic-bezier(0.34, 1.56, 0.64, 1) 2.15s forwards;
  }

  /* ── CREAM BANDS ── */
  .cream-band {
    position: absolute;
    opacity: 0;
    transform-origin: center;
    pointer-events: none;
  }
  .cream-1   { width: 228px; bottom: 122px; height: 16px; animation: creamIn 0.45s ease 1.02s forwards; }
  .cream-2   { width: 188px; bottom: 182px; height: 16px; animation: creamIn 0.45s ease 1.94s forwards; }
  .cream-top { width: 146px; bottom: 234px; height: 16px; animation: creamIn 0.45s ease 2.85s forwards; }
  .cream-band svg { width: 100%; height: 100%; display: block; }

  /* ── CANDLE ── */
  .candle-wrap {
    position: absolute;
    bottom: 243px;
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity: 0;
    animation: candleIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 3.1s forwards;
  }
  .candle-body {
    width: 15px; height: 50px;
    background: linear-gradient(180deg, #e8e0d4 0%, #d4ccc0 55%, #c0b8ac 100%);
    border-radius: 4px 4px 2px 2px;
    box-shadow: inset -3px 0 7px rgba(0,0,0,0.07);
    position: relative; overflow: hidden;
  }
  .candle-body::before {
    content: '';
    position: absolute; inset: 0;
    background: repeating-linear-gradient(
      180deg,
      transparent 0, transparent 9px,
      rgba(255,255,255,0.18) 9px, rgba(255,255,255,0.18) 11px
    );
  }
  .candle-body::after {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; bottom: 55%;
    background: rgba(255,255,255,0.18);
    border-radius: 4px 4px 0 0;
  }
  .wick {
    width: 2px; height: 10px;
    background: #2a1f14;
    border-radius: 1px;
  }

  /* ── FLAME ── */
  .flame-wrap {
    position: relative;
    width: 26px; height: 42px;
    transform-origin: bottom center;
    opacity: 0;
    animation: flameAppear 0.45s ease 3.68s forwards;
  }
  .flame-outer {
    position: absolute;
    bottom: 0; left: 50%;
    transform: translateX(-50%);
    width: 20px; height: 36px;
    background: radial-gradient(ellipse at 50% 70%, #ffd866 0%, #f59a20 48%, rgba(210,55,10,0.65) 82%, transparent 100%);
    border-radius: 50% 50% 35% 35% / 60% 60% 40% 40%;
    animation: flicker 1.9s ease-in-out infinite alternate;
    filter: blur(0.4px);
  }
  .flame-inner {
    position: absolute;
    bottom: 4px; left: 50%;
    transform: translateX(-50%);
    width: 9px; height: 17px;
    background: radial-gradient(ellipse at 50% 60%, #fffcf0 0%, #fde98a 65%, transparent 100%);
    border-radius: 50% 50% 35% 35% / 60% 60% 40% 40%;
    animation: flickerInner 1.5s ease-in-out infinite alternate;
  }
  .flame-glow {
    position: absolute;
    bottom: -5px; left: 50%;
    transform: translateX(-50%);
    width: 40px; height: 40px;
    background: radial-gradient(circle, rgba(255,210,60,0.3) 0%, transparent 70%);
    border-radius: 50%;
    animation: glowPulse 1.9s ease-in-out infinite alternate;
  }

  @keyframes flicker {
    0%   { transform: translateX(-50%) scaleX(1)    scaleY(1)    rotate(-1deg); }
    30%  { transform: translateX(-50%) scaleX(0.91) scaleY(1.05) rotate(1.2deg); }
    65%  { transform: translateX(-50%) scaleX(1.06) scaleY(0.97) rotate(-0.5deg); }
    100% { transform: translateX(-50%) scaleX(0.95) scaleY(1.04) rotate(1.4deg); }
  }
  @keyframes flickerInner {
    0%   { transform: translateX(-50%) scaleX(1)    rotate(-1deg); }
    50%  { transform: translateX(-50%) scaleX(0.86) rotate(1deg); }
    100% { transform: translateX(-50%) scaleX(1.1)  rotate(-0.5deg); }
  }
  @keyframes glowPulse {
    0%   { opacity: 0.65; transform: translateX(-50%) scale(1); }
    100% { opacity: 1;    transform: translateX(-50%) scale(1.18); }
  }

  /* ── MAKE A WISH ── */
  .wish-text {
    position: absolute;
    top: 188px;
    left: 50%;
    transform: translateX(-50%);
    white-space: nowrap;
    text-align: center;
    opacity: 0;
    animation: popIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 4.2s forwards;
  }
  .wish-text h2 {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.55rem;
    color: #5c3d1e;
    letter-spacing: 0.04em;
  }
  .wish-text p {
    font-size: 0.72rem;
    color: #9a7c5e;
    letter-spacing: 0.24em;
    text-transform: uppercase;
    margin-top: 5px;
  }

  /* ── BUTTON ── */
  .blow-btn {
    position: absolute;
    bottom: -58px;
    left: 50%;
    transform: translateX(-50%);
    background: transparent;
    border: 1.5px solid #b09070;
    color: #7a5c3c;
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.95rem;
    font-weight: 600;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    padding: 10px 28px;
    cursor: pointer;
    border-radius: 2px;
    opacity: 0;
    animation: fadeUpEl 0.6s ease 4.9s forwards;
    transition: background 0.22s, color 0.22s, border-color 0.22s;
  }
  .blow-btn:hover {
    background: #5c3d1e;
    color: #f0e6d3;
    border-color: #5c3d1e;
  }

  /* ── SMOKE ── */
  .smoke-container {
    position: absolute;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    pointer-events: none;
    display: none;
  }
  .smoke-particle {
    position: absolute;
    bottom: 0; left: 50%;
    border-radius: 50%;
    background: rgba(160,152,140,0.5);
    filter: blur(4px);
    opacity: 0;
  }
  @keyframes smokeRise {
    0%   { opacity: 0.8; transform: translate(-50%, 0) scale(0.4); }
    55%  { opacity: 0.38; }
    100% { opacity: 0;   transform: translate(calc(-50% + var(--dx)), -85px) scale(3.2); }
  }

  /* ── WIND — from front (left to right) ── */
  .wind-particle {
    position: fixed;
    left: -140px;
    height: 2px;
    border-radius: 2px;
    pointer-events: none;
    opacity: 0;
  }
  @keyframes windSweep {
    0%   { left: -140px; opacity: 0; }
    8%   { opacity: 1; }
    88%  { opacity: 1; }
    100% { left: 110vw; opacity: 0; }
  }

  /* Flame blows to the RIGHT */
  .flame-wrap.blowing {
    animation: flameBlow 0.65s ease forwards !important;
  }
  @keyframes flameBlow {
    0%   { transform: rotate(0deg)  scaleX(1)    scaleY(1);   opacity: 1; }
    35%  { transform: rotate(42deg) scaleX(0.42) scaleY(1.6); opacity: 0.65; }
    70%  { transform: rotate(72deg) scaleX(0.18) scaleY(1.2); opacity: 0.25; }
    100% { transform: rotate(92deg) scaleX(0)    scaleY(0.8); opacity: 0; }
  }

  /* ── CONFETTI ── */
  .confetti-dot {
    position: fixed;
    border-radius: 50%;
    pointer-events: none;
    opacity: 0;
    animation: confettiFall linear forwards;
  }
  @keyframes confettiFall {
    0%   { opacity: 1;  transform: translateY(-20px) rotate(0deg); }
    100% { opacity: 0;  transform: translateY(100vh) rotate(400deg); }
  }

  /* ── SHARED KEYFRAMES ── */
  @keyframes slideIn {
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
  @keyframes creamIn {
    0%   { opacity: 0; transform: scaleX(0.3); }
    100% { opacity: 1; transform: scaleX(1); }
  }
  @keyframes fadeUpEl {
    from { opacity: 0; transform: translateX(-50%) translateY(12px); }
    to   { opacity: 1; transform: translateX(-50%) translateY(0); }
  }
  @keyframes candleIn {
    from { opacity: 0; transform: translateY(-22px) scale(0.75); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
  }
  @keyframes flameAppear {
    from { opacity: 0; transform: scale(0); }
    to   { opacity: 1; transform: scale(1); }
  }
  @keyframes popIn {
    from { opacity: 0; transform: translateX(-50%) scale(0.78) translateY(10px); }
    to   { opacity: 1; transform: translateX(-50%) scale(1) translateY(0); }
  }
</style>
</head>
<body>

<div class="stage" id="stage">

  <!-- Happy Birthday Vishruth -->
  <div class="hb-text">
    <span class="line1">Happy Birthday</span>
    <span class="name">Vishruth</span>
  </div>

  <!-- Plate -->
  <div class="plate"></div>

  <!-- Layer 1 — bottom -->
  <div class="cake-layer layer-1"></div>

  <!-- Cream 1 -->
  <div class="cream-band cream-1">
    <svg viewBox="0 0 228 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M0,14 Q11,1 23,10 Q34,19 46,8 Q57,0 69,10 Q80,19 92,8 Q103,0 114,10 Q126,19 138,8 Q149,0 160,10 Q172,19 184,8 Q195,0 207,10 Q218,19 228,10 L228,16 L0,16 Z" fill="#f0e8da"/>
      <path d="M0,14 Q11,1 23,10 Q34,19 46,8 Q57,0 69,10 Q80,19 92,8 Q103,0 114,10 Q126,19 138,8 Q149,0 160,10 Q172,19 184,8 Q195,0 207,10 Q218,19 228,10" fill="none" stroke="rgba(255,255,255,0.65)" stroke-width="1.5"/>
    </svg>
  </div>

  <!-- Layer 2 — middle -->
  <div class="cake-layer layer-2"></div>

  <!-- Cream 2 -->
  <div class="cream-band cream-2">
    <svg viewBox="0 0 188 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M0,14 Q9,1 19,10 Q28,19 38,8 Q47,0 57,10 Q66,19 76,8 Q85,0 94,10 Q104,19 113,8 Q123,0 132,10 Q142,19 151,8 Q161,0 170,10 Q180,19 188,10 L188,16 L0,16 Z" fill="#f0e8da"/>
      <path d="M0,14 Q9,1 19,10 Q28,19 38,8 Q47,0 57,10 Q66,19 76,8 Q85,0 94,10 Q104,19 113,8 Q123,0 132,10 Q142,19 151,8 Q161,0 170,10 Q180,19 188,10" fill="none" stroke="rgba(255,255,255,0.65)" stroke-width="1.5"/>
    </svg>
  </div>

  <!-- Layer 3 — top -->
  <div class="cake-layer layer-3"></div>

  <!-- Cream top -->
  <div class="cream-band cream-top">
    <svg viewBox="0 0 146 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M0,14 Q7,1 15,10 Q22,19 30,8 Q37,0 45,10 Q52,19 60,8 Q67,0 73,10 Q80,19 88,8 Q95,0 103,10 Q110,19 118,8 Q125,0 132,10 Q139,19 146,10 L146,16 L0,16 Z" fill="#f0e8da"/>
      <path d="M0,14 Q7,1 15,10 Q22,19 30,8 Q37,0 45,10 Q52,19 60,8 Q67,0 73,10 Q80,19 88,8 Q95,0 103,10 Q110,19 118,8 Q125,0 132,10 Q139,19 146,10" fill="none" stroke="rgba(255,255,255,0.65)" stroke-width="1.5"/>
    </svg>
  </div>

  <!-- Candle -->
  <div class="candle-wrap" id="candleWrap">
    <div class="flame-wrap" id="flameWrap">
      <div class="flame-glow"></div>
      <div class="flame-outer"></div>
      <div class="flame-inner"></div>
    </div>
    <div class="wick"></div>
    <div class="candle-body"></div>
  </div>

  <!-- Smoke -->
  <div class="smoke-container" id="smokeContainer"></div>

  <!-- Make a Wish -->
  <div class="wish-text" id="wishText">
    <h2>Make a Wish</h2>
    <p>press any key or click</p>
  </div>

  <!-- Blow button -->
  <button class="blow-btn" id="blowBtn" onclick="blowCandle()">Blow the Candle</button>

</div>

<script>
  let blown = false;

  function blowCandle() {
    if (blown) return;
    blown = true;

    const btn = document.getElementById('blowBtn');
    btn.style.opacity = '0';
    btn.style.pointerEvents = 'none';

    spawnWind();

    setTimeout(() => {
      const fw = document.getElementById('flameWrap');
      fw.classList.add('blowing');
      setTimeout(() => {
        fw.style.display = 'none';
        showSmoke();
        showConfetti();
        updateWish();
      }, 660);
    }, 280);
  }

  function spawnWind() {
    const stageRect = document.getElementById('stage').getBoundingClientRect();
    const centreY = stageRect.top + stageRect.height * 0.54;
    for (let i = 0; i < 14; i++) {
      const el = document.createElement('div');
      el.className = 'wind-particle';
      const spread = (Math.random() - 0.5) * 180;
      const w = 55 + Math.random() * 130;
      const dur = 520 + Math.random() * 340;
      const delay = i * 50;
      const alpha = (0.28 + Math.random() * 0.32).toFixed(2);
      el.style.cssText = `
        top: ${centreY + spread}px;
        width: ${w}px;
        height: ${1 + Math.random() * 2}px;
        background: linear-gradient(to right, transparent, rgba(150,120,90,${alpha}), transparent);
        animation: windSweep ${dur}ms ease ${delay}ms forwards;
      `;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), delay + dur + 80);
    }
  }

  function showSmoke() {
    const c = document.getElementById('smokeContainer');
    c.style.display = 'block';
    for (let i = 0; i < 7; i++) {
      const p = document.createElement('div');
      p.className = 'smoke-particle';
      const dx = (Math.random() - 0.5) * 38;
      const sz = 7 + Math.random() * 9;
      p.style.cssText = `
        --dx: ${dx}px; left: 50%;
        width: ${sz}px; height: ${sz}px;
        animation: smokeRise ${1300 + Math.random() * 700}ms ease ${i * 120}ms forwards;
      `;
      c.appendChild(p);
    }
    setTimeout(() => { c.style.display = 'none'; }, 3000);
  }

  function showConfetti() {
    const colors = ['#c4a47e','#d4b896','#b8966c','#e8d8be','#9a7c5e','#dcc4a4','#c0aa88','#8b6045','#e2cdb0','#a08060'];
    for (let i = 0; i < 45; i++) {
      const el = document.createElement('div');
      el.className = 'confetti-dot';
      const sz = 5 + Math.random() * 8;
      const delay = Math.random() * 900;
      const dur = 1800 + Math.random() * 1800;
      el.style.cssText = `
        left: ${Math.random() * 100}vw;
        top: -20px;
        width: ${sz}px; height: ${sz}px;
        background: ${colors[Math.floor(Math.random() * colors.length)]};
        animation: confettiFall ${dur}ms ease ${delay}ms forwards;
      `;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), delay + dur + 80);
    }
  }

  function updateWish() {
    const el = document.getElementById('wishText');
    el.querySelector('h2').textContent = 'Wish Granted ✦';
    el.querySelector('p').textContent = 'have a beautiful birthday';
  }

  document.addEventListener('keydown', () => { if (!blown) blowCandle(); });
  document.addEventListener('click', (e) => {
    if (!blown && e.target.id !== 'blowBtn') blowCandle();
  });
</script>
</body>
</html>
